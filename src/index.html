<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>web monitor sdk</title>
</head>
<body>
    <div id="root">
        <div class="content">
            <input
                id="errorBtn"
                type="button"
                value="点击抛出"
                onclick="errorClick()"
            >
            <input
                type="button"
                class="promiseBtn"
                value="点击抛出Promise错误"
                onclick="promiseErrorClick()"
            >
            <input
                id="xhrSuccessBtn"
                type="button"
                value="ajax成功请求"
                onclick="sendSuccess()"
            >
            <input
                id="xhrErrorBtn"
                type="button"
                value="ajax失败请求"
                onclick="sendError()"
            >
        </div>
    </div>
    <script>
        function errorClick() {
            // throw Error('test')
            window.productInfo.name = 'KFC'
        }
        function promiseErrorClick(){
          new Promise((resolve, reject) => {
            // reject('promise reject')
            window.productInfo.name = 'KFC'
          }).then(res => {
            conosle.log('promise..success', res)
          })
        }

        function sendSuccess(){
          let xhr = new XMLHttpRequest;
          xhr.open('GET', '/success', true);
          xhr.responseType = 'json';
          xhr.onload = function(){
            console.log('success..btn...click..onload', xhr.response)
          }
          xhr.send();
        }

        function sendError(){
          let xhr = new XMLHttpRequest;
          xhr.open('POST', '/error', true);
          xhr.responseType = 'json';
          xhr.onload = function(){
            console.log('error..btn..click..onload', xhr.response)
          }
          xhr.onerror = function(err){
            console.log('error...btn...click..onerror...', err)
          }
          xhr.send("name=sendError");
        }
    </script>
    <script src="notExistJs.js"></script>
</body>


</html>
